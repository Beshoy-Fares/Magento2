<?php
/**
 * Copyright Â© 2015 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */

// @codingStandardsIgnoreFile

?>
<head>
<title><?php echo $this->headerTitle?></title>
</head>
<?php $expressions = []; foreach ( $this->main as $item ): ?>
    <?php $expressions[] = '!$state.is(\'' . $item['id'] . '\')'; ?>
<?php endforeach; ?>
<?php $showNavMenuExpressions = []; foreach ( $this->menu as $item ): ?>
    <?php $showNavMenuExpressions[] = '$state.is(\'' . $item['id'] . '\')'; ?>
<?php endforeach; ?>

<nav
    ng-controller="navigationController"
    ng-class="{'show' :
        <?php
            echo implode( '&&', $expressions) . '&& (' . implode('||', $showNavMenuExpressions) . ')';
        ?>}"
    data-ng-init="redirectTo('<?php echo $this->redirect?>')"
    id="menu"
    class="nav ng-cloak"
    >

    <ul class="nav-bar">
        <?php foreach ($this->menu as $item): ?>
        <li ng-class="{ active: $state.includes('<?php echo $item['id'] ?>'), disabled: itemStatus(<?php echo $item['order']; ?>)}"
            id="<?php echo $item['id']; ?>"
            >
            <a
                ng-class=""
                ui-sref="<?php echo $item['id']; ?>"
                href="#/<?php echo $item['url']; ?>"
                >
                <?php echo nl2br( $item['title'] ); ?>
            </a>
        </li>
        <?php endforeach; ?>
    </ul>
</nav>
