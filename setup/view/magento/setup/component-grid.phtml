<?php
/**
 * Copyright Â© 2015 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */
?>
<h2 class="page-title">{{$state.current.header}}</h2>
<div>Last Sync <span ng-hide="isOutOfSync">at {{lastSyncDate|date:"h:mm:ssa"}} on {{lastSyncDate|date:"d MMM yyyy"}}</span>
    <span ng-show="isOutOfSync">Out-of-sync</span>
    <button class="" type="button" ng-click="sync()">
        <span>Sync</span>
    </button>
</div>
<div class="admin__data-grid-outer-wrap" my-directive>
    <div class="admin__data-grid-header">
        <div class="admin__data-grid-header-row row row-gutter">
            <div class="col-xs-3">
                <div class="admin__control-support-text">
                    <span>{{total}}</span> records found
                </div>
            </div>
            <div class="col-xs-9 admin__data-grid-pager-wrap">
                <select id="perPage" class="admin__control-select">
                    <option value="20">20</option>
                    <option value="30">30</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                    <option value="200">200</option>
                </select>
                <label class="admin__control-support-text" for="perPage">per page</label>
                <div class="admin__data-grid-pager">
                    <button class="action-previous" type="button">
                        <span>Previous page</span>
                    </button>
                    <input id="pageCurrent" class="admin__control-text" type="number" value="1">
                    <label class="admin__control-support-text" for="pageCurrent">
                        of <span>1</span>
                    </label>
                    <button class="action-next disabled">
                        <span>Next page</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="admin__data-grid-wrap" ng-show="$state.is('root.component-grid')">
        <table class="data-grid">
            <thead data-part="head">
            <tr>
                <th class="data-grid-th _sortable _col-xs">
                    <span></span>
                </th>
                <th class="data-grid-th _sortable _ascend">
                    <span>Component Name</span>
                </th>
                <th class="data-grid-th  _sortable">
                    <span>Version</span>
                </th>
                <th class="data-grid-th  _sortable">
                    <span>Type</span>
                </th>
                <th class="data-grid-th  _sortable">
                    <span>Updated</span>
                </th>
                <th class="data-grid-actions-cell data-grid-th">
                    <span>Actions</span>
                </th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="component in components">
                <td class="data-grid-indicator-cell">
                    <span class="component-indicator" ng-class="getIndicatorInfo(component, 'icon')" data-label="{{getIndicatorInfo(component, 'label')}}"><span>{{getIndicatorInfo(component, 'label')}}</span></span>
                </td>
                <td>
                    <span class="data-grid-data">{{component.name}}</span>
                </td>
                <td>
                    <span class="data-grid-data">{{component.version}}</span>
                </td>
                <td>
                    <span class="data-grid-data">{{component.type}}</span>
                </td>
                <td>
                    <span class="data-grid-data">{{component.updated}}</span>
                </td>
                <td class="data-grid-actions-cell">
                    <!-- "_active" class should be added when .action-select button clicked to the wrapper and .action-menu to show actions -->
                    <div class="action-select-wrap" ng-class="{'_active' : isActiveActionsCell(component)}">
                        <button class="action-select" ng-click="toggleActiveActionsCell(component)">
                            <span>Select</span>
                        </button>
                        <ul class="action-menu" ng-class="{'_active' : isActiveActionsCell(component)}">
                            <li>
                                <a class="action-menu-item">Enable</a>
                            </li>
                            <li>
                                <a class="action-menu-item">Disable</a>
                            </li>

                            <li ng-class="{'hide' : !isAvailableUpdatePackage(component.name)}" ng-click="nextState()">
                                <a class="action-menu-item">Update</a>
                            </li>
                        </ul>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<!-- loading indicator overlay and loader -->
<div data-role="spinner" class="admin__data-grid-loading-mask hide" ng-class="{'hide':isHiddenSpinner}">
    <div class="grid-loader"></div>
</div>

