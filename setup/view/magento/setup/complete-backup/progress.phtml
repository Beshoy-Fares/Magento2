<?php
/**
 * Copyright Â© 2015 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */

// @codingStandardsIgnoreFile

?>

<div ng-switch="isCompleted()">

    <div ng-switch-when="true" ng-switch="hasErrors">

        <div class="message message-error" ng-switch-when="true">
            <span class="message-text">
                <strong>Completed!</strong> You need to resolve these issues to continue.
            </span>
        </div>

        <div class="message message-success" ng-switch-default>
            <span class="message-text">
                <strong>Completed!</strong> You can now move on to the next step.
            </span>
        </div>

    </div>

    <div class="message message-spinner" ng-switch-default>
        <span class="spinner">
            <span></span><span></span><span></span><span></span>
            <span></span><span></span><span></span><span></span>
        </span>
        <span class="message-text">Creating Backup...</span>
    </div>

</div>

<div id="store-maintenance" class="rediness-check-item" ng-show="maintenance.visible">

    <h3 class="readiness-check-title" ng-hide="maintenance.processed">
        Putting store in maintenance mode...
    </h3>

    <div ng-show="maintenance.processed" ng-switch="maintenance.responseType">

        <div ng-switch-when="success" ng-init="updateOnSuccess(maintenance)">

            <span class="readiness-check-icon icon-success-round"></span>

            <div class="readiness-check-content">
                <h3 class="readiness-check-title">Store in maintenance mode</h3>
                <p>
                    Your store will stay in maintenance mode until you complete the process. Then, it will be lifted automatically.
                </p>
            </div>

        </div>

        <div class="readiness-check-item" ng-switch-default ng-init="updateOnError(maintenance)">

            <span class="readiness-check-icon icon-failed-round"></span>

            <div class="readiness-check-content">
                <h3 class="readiness-check-title">Check store maintenance availability</h3>
                <p>
                    Cannot put your store in maintenance mode. Please fix that, and try again.
                    Error received from server: {{maintenance.error}}
                </p>
            </div>
        </div>

    </div>

</div>

<div id="backup-check" class="rediness-check-item" ng-show="check.visible">

    <h3 class="readiness-check-title" ng-hide="check.processed">
        Checking available space in disk for taking backups...
    </h3>

    <div ng-show="check.processed" ng-switch="check.responseType">

        <div ng-switch-when="success" ng-init="updateOnSuccess(check)">

            <span class="readiness-check-icon icon-success-round"></span>

            <div class="readiness-check-content">
                <h3 class="readiness-check-title">Disk space available for taking backups</h3>
                <p>
                    You have enough space available in disk for taking your selected backups.
                </p>
            </div>

        </div>

        <div class="readiness-check-item" ng-switch-default ng-init="updateOnError(check)">

            <span class="readiness-check-icon icon-failed-round"></span>

            <div class="readiness-check-content">
                <h3 class="readiness-check-title">Check disk space availability</h3>
                <p>
                    Check available space in your disk for taking backups, and try again.
                    Error received from server: {{check.error}}
                </p>
            </div>
        </div>

    </div>

</div>

<div id="backup-create" class="rediness-check-item" ng-show="create.visible">

    <h3 class="readiness-check-title" ng-hide="create.processed">
        Creating Backup...
    </h3>
    <div ng-show="create.processed" ng-switch="create.responseType">

        <div ng-switch-when="success" ng-init="updateOnSuccess(create)">

            <span class="readiness-check-icon icon-success-round"></span>

            <div class="readiness-check-content" ng-show="backupInfoPassed.options.code || backupInfoPassed.options.media || backupInfoPassed.options.db">
                <h3 class="readiness-check-title">Backup created</h3>
                <p>The backup files can be found in Magento Admin's backup management.</p>
                <p>The backup files are located in:</p>
                <p> {{files}} </p>
            </div>
            <div class="readiness-check-content" ng-show="!backupInfoPassed.options.code && !backupInfoPassed.options.media && !backupInfoPassed.options.db">
                <h3 class="readiness-check-title">No Backup created</h3>
                    <p> You didn't take any backup. It is suggested to take backup, so that in case of failure we can roll back to the latest stable state.</p>
            </div>
        </div>
        <div class="readiness-check-item" ng-switch-default ng-init="updateOnError(create)">

            <span class="readiness-check-icon icon-failed-round"></span>

            <div class="readiness-check-content">
                <h3 class="readiness-check-title">Backup failed</h3>
                <p>
                    Error received from server: {{create.error}}
                </p>
            </div>
        </div>
    </div>
</div>
