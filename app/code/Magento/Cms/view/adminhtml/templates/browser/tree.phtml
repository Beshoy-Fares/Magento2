<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
declare(strict_types=1);

use Magento\Cms\Block\Adminhtml\Wysiwyg\Images\Tree;
use Magento\Framework\Escaper;
use Magento\Framework\Json\Helper\Data;
use Magento\Framework\View\Helper\SecureHtmlRenderer;

/** @var Escaper $escaper */
/** @var SecureHtmlRenderer $secureRenderer */
/** @var Tree $block */
/** @var Data $jsonHelper */
$jsonHelper = $block->getData('jsonHelper');
?>
<div class="tree-panel" >
    <div class="categories-side-col">
        <div class="tree-actions">
            <a id="collapseAll"><?= $escaper->escapeHtml(__('Collapse All')) ?></a>
            <span class="separator">|</span>
            <a id="expandAll"><?= $escaper->escapeHtml(__('Expand All')) ?></a>
        </div>
        <?= /* @noEscape */ $secureRenderer->renderEventListenerAsTag(
            'onclick',
            "jQuery('[data-role=tree]').jstree('close_all');",
            '#div.tree-actions a#collapseAll'
        ) ?>
        <?= /* @noEscape */ $secureRenderer->renderEventListenerAsTag(
            'onclick',
            "jQuery('[data-role=tree]').jstree('open_all');",
            '#div.tree-actions a#expandAll'
        ) ?>
    </div>
    <div data-role="tree" data-mage-init='<?= $escaper->escapeHtml(
        $jsonHelper->jsonEncode($block->getTreeWidgetOptions())
    ) ?>'>
    </div>
</div>
