<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */

/** @var \Magento\Review\Block\Customer\Recent $block */
?>
<?php if ($block->getReviews() && count($block->getReviews())) : ?>
<div class="block block-reviews-dashboard">
    <div class="block-title">
        <strong><?= $escaper->escapeHtml(__('My Recent Reviews')) ?></strong>
        <a class="action view" href="<?= $escaper->escapeUrl($block->getAllReviewsUrl()) ?>"><span><?= $escaper->escapeHtml(__('View All')) ?></span></a>
    </div>
    <div class="block-content">
        <ol class="items">
        <?php foreach ($block->getReviews() as $_review) : ?>
            <li class="item">
                <strong class="product-name"><a href="<?= $escaper->escapeUrl($block->getReviewUrl($_review->getReviewId())) ?>"><?= $escaper->escapeHtml($_review->getName()) ?></a></strong>
                <?php if ($_review->getSum()) : ?>
                    <?php $rating = $_review->getSum() / $_review->getCount() ?>
                    <div class="rating-summary">
                         <span class="label"><span><?= $escaper->escapeHtml(__('Rating')) ?>:</span></span>
                         <div class="rating-result" title="<?= $escaper->escapeHtmlAttr($rating) ?>%">
                             <span style="width:<?= $escaper->escapeHtmlAttr($rating) ?>%"><span><?= $escaper->escapeHtml($rating) ?>%</span></span>
                         </div>
                     </div>
                <?php endif; ?>
            </li>
        <?php endforeach; ?>
        </ol>
    </div>
</div>
<?php endif; ?>
