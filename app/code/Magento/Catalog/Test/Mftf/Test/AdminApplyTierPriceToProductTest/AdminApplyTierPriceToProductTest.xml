<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->
<tests xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
       xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/testSchema.xsd">
    <test name="AdminApplyTierPriceToProductTest">
        <annotations>
            <features value="Catalog"/>
            <stories value="Apply tier price to a product"/>
            <title value="You should be able to apply tier price to a product."/>
            <description value="You should be able to apply tier price to a product."/>
            <severity value="CRITICAL"/>
            <testCaseId value="MAGETWO-68921"/>
            <group value="product"/>
        </annotations>
        <before>
            <createData entity="Simple_US_Customer" stepKey="createSimpleUSCustomer">
                <field key="group_id">1</field>
            </createData>
            <createData entity="_defaultCategory" stepKey="createCategory"/>
            <createData entity="SimpleProduct" stepKey="createSimpleProduct">
                <requiredEntity createDataKey="createCategory"/>
                <field key="price">100</field>
            </createData>
        </before>
        <after>
            <deleteData createDataKey="createSimpleUSCustomer" stepKey="deleteCustomer"/>
            <deleteData createDataKey="createSimpleProduct" stepKey="deleteSimpleProduct"/>
            <deleteData createDataKey="createCategory" stepKey="deleteCategory"/>
            <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="navigateToProductIndex1"/>
            <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="resetGridToDefaultKeywordSearch"/>
            <actionGroup ref="AdminLogoutActionGroup" stepKey="logoutFromAdmin"/>
        </after>
        <actionGroup ref="AdminLoginActionGroup" stepKey="loginAsAdmin"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="searchForSimpleProduct"/>
        <actionGroup ref="AdminProductPageOpenByIdActionGroup" stepKey="openEditProduct1">
            <argument name="productId" value="$$createSimpleProduct.id$$"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="scrollToTopOfPage1"/>

        <actionGroup ref="AdminProductFormOpenAdvancedPricingDialogActionGroup" stepKey="clickOnAdvancedPricingButton1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForCustomerGroupPriceAddButton1"/>
        <actionGroup ref="AdminProductFormAdvancedPricingAddTierPriceActionGroup" stepKey="addCustomerGroupAllGroupsQty1PriceDiscountAnd10percent">
            <argument name="customerGroup" value="ALL GROUPS"/>
            <argument name="quantity" value="1"/>
            <argument name="priceType" value="Discount"/>
            <argument name="amount" value="10"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="fillProductTierPriceQtyInput1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="selectProductTierPriceValueType1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="selectProductTierPricePriceInput"/>
        <actionGroup ref="AdminProductFormDoneAdvancedPricingDialogActionGroup" stepKey="clickDoneButton1"/>
        <actionGroup ref="SaveProductFormActionGroup" stepKey="saveProduct1"/>

        <actionGroup ref="LoginToStorefrontActionGroup" stepKey="customerLogin1">
            <argument name="Customer" value="$$createSimpleUSCustomer$$"/>
        </actionGroup>
        <actionGroup ref="StorefrontNavigateCategoryPageActionGroup" stepKey="navigateToCategoryPage1">
            <argument name="category" value="$createCategory$"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForPageLoad1"/>
        <actionGroup ref="StorefrontAssertXRegularPriceYMessageOnPLPActionGroup" stepKey="assertProductFinalPriceIs90_1">
            <argument name="X" value="90"/>
            <argument name="Y" value="100"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertRegularPriceLabel_1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertRegularPriceAmount_1"/>
        <actionGroup ref="StorefrontCustomerLogoutActionGroup" stepKey="logoutCustomer1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForPageLoad2"/>

        <actionGroup ref="StorefrontNavigateCategoryPageActionGroup" stepKey="navigateToCategoryPage2">
            <argument name="category" value="$createCategory$"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForPageLoad3"/>
        <actionGroup ref="StorefrontAssertXRegularPriceYMessageOnPLPActionGroup" stepKey="assertProductFinalPriceIs90_2">
            <argument name="X" value="90"/>
            <argument name="Y" value="100"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertRegularPriceLabel_2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertRegularPriceAmount_2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="navigateToProductIndex2"/>
        <actionGroup ref="AdminProductPageOpenByIdActionGroup" stepKey="openEditProduct2">
            <argument name="productId" value="$$createSimpleProduct.id$$"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="scrollToTopOfPage2"/>
        <actionGroup ref="AdminProductFormOpenAdvancedPricingDialogActionGroup" stepKey="clickOnAdvancedPricingButton2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForcustomerGroupPriceAddButton2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForSelectCustomerGroupNameAttribute1"/>
        <actionGroup ref="AdminProductFormAdvancedPricingUpdateTierPriceActionGroup" stepKey="selectCustomerGroupGeneral">
            <argument name="customerGroup" value="General"/>
            <argument name="quantity" value="1"/>
            <argument name="priceType" value="Discount"/>
            <argument name="amount" value="10"/>
        </actionGroup>
        <actionGroup ref="AdminProductFormDoneAdvancedPricingDialogActionGroup" stepKey="clickDoneButton2"/>
        <actionGroup ref="SaveProductFormActionGroup" stepKey="saveProduct2"/>

        <actionGroup ref="StorefrontNavigateCategoryPageActionGroup" stepKey="navigateToCategoryPage3">
            <argument name="category" value="$createCategory$"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForPageLoad4"/>
        <actionGroup ref="StorefrontAssertPriceOnPLPActionGroup" stepKey="assertProductFinalPriceIs100_1">
            <argument name="price" value="100"/>
        </actionGroup>
        <dontSeeElement selector="{{StorefrontCategoryProductSection.productPriceLabel('Regular Price')}}" stepKey="assertRegularPriceLabel_3"/>

        <actionGroup ref="LoginToStorefrontActionGroup" stepKey="customerLogin2">
            <argument name="Customer" value="$$createSimpleUSCustomer$$"/>
        </actionGroup>
        <actionGroup ref="StorefrontNavigateCategoryPageActionGroup" stepKey="navigateToCategoryPage4">
            <argument name="category" value="$createCategory$"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForPageLoad5"/>
        <actionGroup ref="StorefrontAssertXRegularPriceYMessageOnPLPActionGroup" stepKey="assertProductFinalPriceIs90_3">
            <argument name="X" value="90"/>
            <argument name="Y" value="100"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertRegularPriceLabel_4"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertRegularPriceAmount_3"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="navigateToProductIndex3"/>
        <actionGroup ref="AdminProductPageOpenByIdActionGroup" stepKey="openEditProduct3">
            <argument name="productId" value="$$createSimpleProduct.id$$"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="scrollToTopOfPage3"/>
        <actionGroup ref="AdminProductFormOpenAdvancedPricingDialogActionGroup" stepKey="clickOnAdvancedPricingButton3"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForcustomerGroupPriceAddButton3"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForSelectCustomerGroupNameAttribute2"/>
        <actionGroup ref="AdminProductFormAdvancedPricingUpdateTierPriceActionGroup" stepKey="selectCustomerGroupAllGroups">
            <argument name="customerGroup" value="ALL GROUPS"/>
            <argument name="quantity" value="15"/>
            <argument name="priceType" value="Discount"/>
            <argument name="amount" value="10"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="fillProductTierPriceQtyInput15"/>
        <actionGroup ref="AdminProductFormDoneAdvancedPricingDialogActionGroup" stepKey="clickToLoseFocusOnRequiredInputElement"/>
        <actionGroup ref="AdminProductFormOpenAdvancedPricingDialogActionGroup" stepKey="clickOnAdvancedPricingButton3_1"/>
        <actionGroup ref="AdminProductFormAdvancedPricingAddTierPriceActionGroup" stepKey="addCustomerGroupAllGroupsQty20PriceDiscountAnd18percent2">
            <argument name="customerGroup" value="ALL GROUPS"/>
            <argument name="quantity" value="20"/>
            <argument name="priceType" value="Discount"/>
            <argument name="amount" value="18"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="fillProductTierPriceQtyInput20"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="selectProductTierPriceValueType2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="selectProductTierPricePriceInput18"/>
        <actionGroup ref="AdminProductFormDoneAdvancedPricingDialogActionGroup" stepKey="clickDoneButton3"/>
        <actionGroup ref="SaveProductFormActionGroup" stepKey="saveProduct3"/>

        <actionGroup ref="StorefrontNavigateCategoryPageActionGroup" stepKey="navigateToCategoryPage5">
            <argument name="category" value="$createCategory$"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForPageLoad6"/>
        <actionGroup ref="StorefrontAssertXAsLowAsYMessageOnPLPActionGroup" stepKey="assertProductFinalPriceIs100_2">
            <argument name="X" value="100"/>
            <argument name="Y" value="82"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertAsLowAsPriceLabel_1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertPriceAfterAsLowAsLabel_1"/>
        <actionGroup ref="StorefrontCustomerLogoutActionGroup" stepKey="logoutCustomer2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForPageLoad7"/>

        <actionGroup ref="StorefrontNavigateCategoryPageActionGroup" stepKey="navigateToCategoryPage6">
            <argument name="category" value="$createCategory$"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForPageLoad8"/>
        <actionGroup ref="StorefrontAssertXAsLowAsYMessageOnPLPActionGroup" stepKey="assertProductFinalPriceIs100_3">
            <argument name="X" value="100"/>
            <argument name="Y" value="82"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertAsLowAsPriceLabel_2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertPriceAfterAsLowAsLabel_2"/>
        <actionGroup ref="StorefrontOpenProductPageActionGroup" stepKey="goToProductPage1">
            <argument name="productUrl" value="$$createSimpleProduct.custom_attributes[url_key]$$"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForPageLoad9"/>
        <actionGroup ref="StorefrontAssertBuyXForYEachAndSaveZMessageOnPDPActionGroup" stepKey="assertProductTierPriceByForTextLabelForFirstRow1">
            <argument name="priceIndex" value="1"/>
            <argument name="X" value="15"/>
            <argument name="Y" value="90"/>
            <argument name="Z" value="10"/>
        </actionGroup>
        <actionGroup ref="StorefrontAssertBuyXForYEachAndSaveZMessageOnPDPActionGroup" stepKey="assertProductTierPriceByForTextLabelForSecondRow1">
            <argument name="priceIndex" value="2"/>
            <argument name="X" value="20"/>
            <argument name="Y" value="82"/>
            <argument name="Z" value="18"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertProductTierPriceAmountForFirstRow1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertProductTierPriceAmountForSecondRow1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertProductTierPriceSavePercentageAmountForFirstRow1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertProductTierPriceSavePercentageAmountForSecondRow1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="fillProductQuantity1"/>

        <actionGroup ref="StorefrontEnterProductQuantityAndAddToTheCartActionGroup" stepKey="addToCartFromStorefrontProductPage">
            <argument name="quantity" value="10"/>
        </actionGroup>
        <actionGroup ref="ClickViewAndEditCartFromMiniCartActionGroup" stepKey="goToCheckoutFromMinicart"/>
        <actionGroup ref="StorefrontAssertProductQtyInCartActionGroup" stepKey="seeInQtyField10">
            <argument name="product" value="$$createSimpleProduct$$"/>
            <argument name="productQuantity" value="10"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="grabTextFromSubtotalField1"/>
        <actionGroup ref="StorefrontAssertProductSubtotalInTheCartActionGroup" stepKey="assertSubtotalField1">
            <argument name="expectedSubtotal" value="$1,000.00"/>
        </actionGroup>
        <actionGroup ref="StorefrontChangeProductQtyInTheCartActionGroup" stepKey="fillProductQuantity2">
            <argument name="productName" value="$$createSimpleProduct.name$$"/>
            <argument name="qty" value="15"/>
        </actionGroup>
        <actionGroup ref="AdminUpdateShoppingCartActionGroup" stepKey="clickUpdateShoppingCartButton1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForLoadingMaskToDisappear1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="grabTextFromSubtotalField2"/>
        <actionGroup ref="StorefrontAssertProductSubtotalInTheCartActionGroup" stepKey="assertSubtotalField2">
            <argument name="expectedSubtotal" value="$1,350.00"/>
        </actionGroup>

        <actionGroup ref="StorefrontChangeProductQtyInTheCartActionGroup" stepKey="fillProductQuantity3">
            <argument name="productName" value="$$createSimpleProduct.name$$"/>
            <argument name="qty" value="20"/>
        </actionGroup>
        <actionGroup ref="AdminUpdateShoppingCartActionGroup" stepKey="clickUpdateShoppingCartButton2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForLoadingMaskToDisappear2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="grabTextFromSubtotalField3"/>
        <actionGroup ref="StorefrontAssertProductSubtotalInTheCartActionGroup" stepKey="assertSubtotalField3">
            <argument name="expectedSubtotal" value="$1,640.00"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="navigateToProductIndex4"/>
        <actionGroup ref="AdminProductPageOpenByIdActionGroup" stepKey="openEditProduct4">
            <argument name="productId" value="$$createSimpleProduct.id$$"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="scrollToTopOfPage4"/>
        <actionGroup ref="AdminProductFormOpenAdvancedPricingDialogActionGroup" stepKey="clickOnAdvancedPricingButton4"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForcustomerGroupPriceAddButton4"/>
        <actionGroup ref="AdminProductFormAdvancedPricingUpdateTierPriceActionGroup" stepKey="selectProductTierPricePercentageValue2">
            <argument name="customerGroup" value="ALL GROUPS"/>
            <argument name="quantity" value="20"/>
            <argument name="priceType" value="Discount"/>
            <argument name="amount" value="25"/>
        </actionGroup>
        <actionGroup ref="AdminProductFormDoneAdvancedPricingDialogActionGroup" stepKey="clickDoneButton4"/>
        <actionGroup ref="SaveProductFormActionGroup" stepKey="saveProduct4"/>

        <actionGroup ref="StorefrontCartPageOpenActionGroup" stepKey="goToShoppingCartPage1"/>
        <actionGroup ref="StorefrontAssertProductQtyInCartActionGroup" stepKey="seeInQtyField20">
            <argument name="product" value="$$createSimpleProduct$$"/>
            <argument name="productQuantity" value="20"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="grabTextFromSubtotalField4"/>
        <actionGroup ref="StorefrontAssertProductSubtotalInTheCartActionGroup" stepKey="assertSubtotalField4">
            <argument name="expectedSubtotal" value="$1,500.00"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="grabTextFromCheckoutCartSummarySectionSubtotal1"/>
        <actionGroup ref="StorefrontAssertCartSubtotalActionGroup" stepKey="assertSubtotalFieldFromCheckoutCartSummarySection1">
            <argument name="expectedSubtotal" value="$1,500.00"/>
        </actionGroup>

        <actionGroup ref="StorefrontClickOnMiniCartActionGroup" stepKey="openMiniCart1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForminiCartSubtotalField1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="grabTextFromMiniCartSubtotalField"/>
        <actionGroup ref="StorefrontAssertMiniCartSubtotalActionGroup" stepKey="assertSubtotalFieldFromMiniShoppingCart1">
            <argument name="expectedSubtotal" value="$1,500.00"/>
        </actionGroup>

        <actionGroup ref="AdminNavigateToStoresConfigurationSalesSalesMSRPActionGroup" stepKey="navigateToAdminSalesConfigPageMAPTab1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForAdminSalesConfigPageLoad1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="uncheckMAPUseSystemValue"/>
        <actionGroup ref="AdminEnableDisableMAPActionGroup" stepKey="setEnableMAPYes"/>
        <actionGroup ref="AdminSaveConfigActionGroup" stepKey="saveConfig1"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="seeConfigSuccessMessage1"/>
        <actionGroup ref="ClearCacheActionGroup" stepKey="flushCache1"/>

        <actionGroup ref="StorefrontCartPageOpenActionGroup" stepKey="goToShoppingCartPage2"/>
        <actionGroup ref="StorefrontAssertProductQtyInCartActionGroup" stepKey="seeInQtyField20_2">
            <argument name="product" value="$$createSimpleProduct$$"/>
            <argument name="productQuantity" value="20"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="grabTextFromSubtotalField5"/>
        <actionGroup ref="StorefrontAssertProductSubtotalInTheCartActionGroup" stepKey="assertSubtotalField5">
            <argument name="expectedSubtotal" value="$1,500.00"/>
        </actionGroup>

        <actionGroup ref="AdminNavigateToStoresConfigurationSalesSalesMSRPActionGroup" stepKey="navigateToAdminSalesConfigPageMAPTab2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForAdminSalesConfigPageLoad2"/>
        <actionGroup ref="AdminEnableDisableMAPActionGroup" stepKey="setEnableMAPNo">
            <argument name="status" value="No"/>
        </actionGroup>
        <actionGroup ref="AdminSaveConfigActionGroup" stepKey="saveConfig2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="seeConfigSuccessMessage2"/>
        <actionGroup ref="ClearCacheActionGroup" stepKey="flushCache2"/>

        <actionGroup ref="StorefrontCartPageOpenActionGroup" stepKey="goToShoppingCartPage3"/>
        <actionGroup ref="StorefrontAssertProductQtyInCartActionGroup" stepKey="seeInQtyField20_3">
            <argument name="product" value="$$createSimpleProduct$$"/>
            <argument name="productQuantity" value="20"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="grabTextFromSubtotalField6"/>
        <actionGroup ref="StorefrontAssertProductSubtotalInTheCartActionGroup" stepKey="assertSubtotalField6">
            <argument name="expectedSubtotal" value="$1,500.00"/>
        </actionGroup>
        <actionGroup ref="StorefrontOpenProductPageActionGroup" stepKey="goToProductPage2">
            <argument name="productUrl" value="$$createSimpleProduct.custom_attributes[url_key]$$"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForPageLoad10"/>
        <actionGroup ref="StorefrontAssertBuyXForYEachAndSaveZMessageOnPDPActionGroup" stepKey="assertProductTierPriceByForTextLabelForFirstRow2">
            <argument name="priceIndex" value="1"/>
            <argument name="X" value="15"/>
            <argument name="Y" value="90"/>
            <argument name="Z" value="10"/>
        </actionGroup>
        <actionGroup ref="StorefrontAssertBuyXForYEachAndSaveZMessageOnPDPActionGroup" stepKey="assertProductTierPriceByForTextLabelForSecondRow2">
            <argument name="priceIndex" value="2"/>
            <argument name="X" value="20"/>
            <argument name="Y" value="75"/>
            <argument name="Z" value="25"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertProductTierPriceAmountForFirstRow2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertProductTierPriceAmountForSecondRow2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertProductTierPriceSavePercentageAmountForFirstRow2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="assertProductTierPriceSavePercentageAmountForSecondRow2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="navigateToProductIndex5"/>
        <actionGroup ref="AdminProductPageOpenByIdActionGroup" stepKey="openEditProduct5">
            <argument name="productId" value="$$createSimpleProduct.id$$"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="scrollToTopOfPage5"/>

        <actionGroup ref="AdminProductFormOpenAdvancedPricingDialogActionGroup" stepKey="clickOnAdvancedPricingButton5"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForcustomerGroupPriceDeleteButton"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="scrollToDeleteFirstRowOfCustomerGroupPrice"/>
        <actionGroup ref="AdminDeleteTierPriceActionGroup" stepKey="deleteFirstRowOfCustomerGroupPrice"/>
        <actionGroup ref="AdminDeleteTierPriceActionGroup" stepKey="deleteSecondRowOfCustomerGroupPrice"/>
        <actionGroup ref="AdminProductFormDoneAdvancedPricingDialogActionGroup" stepKey="clickDoneButton5"/>
        <actionGroup ref="SaveProductFormActionGroup" stepKey="saveProduct5"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="scrollToTopOfPage6"/>
        <actionGroup ref="AdminProductFormOpenAdvancedPricingDialogActionGroup" stepKey="clickOnAdvancedPricingButton6"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForcustomerGroupPriceAddButton5"/>
        <dontSeeElement selector="{{AdminProductFormAdvancedPricingSection.productTierPriceQtyInput('0')}}" stepKey="dontSeeQtyInputOfFirstRow"/>
        <dontSeeElement selector="{{AdminProductFormAdvancedPricingSection.productTierPriceQtyInput('1')}}" stepKey="dontSeeQtyInputOfSecondRow"/>
        <actionGroup ref="AdminProductFormDoneAdvancedPricingDialogActionGroup" stepKey="closeAdvancedPricingPopup"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForAdminProductFormSectionProductPriceInput"/>
        <actionGroup ref="AdminFillProductPriceFieldAndPressEnterOnProductEditPageActionGroup" stepKey="fillProductPrice200">
            <argument name="price" value="200"/>
        </actionGroup>
        <actionGroup ref="AdminProductFormSaveActionGroup" stepKey="clickSaveButton"/>

        <actionGroup ref="StorefrontCartPageOpenActionGroup" stepKey="goToShoppingCartPage4"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="grabTextFromSubtotalField7"/>
        <actionGroup ref="StorefrontAssertProductSubtotalInTheCartActionGroup" stepKey="assertSubtotalField7">
            <argument name="expectedSubtotal" value="$4,000.00"/>
        </actionGroup>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="grabTextFromCheckoutCartSummarySectionSubtotal2"/>
        <actionGroup ref="StorefrontAssertCartSubtotalActionGroup" stepKey="assertSubtotalFieldFromCheckoutCartSummarySection2">
            <argument name="expectedSubtotal" value="$4,000.00"/>
        </actionGroup>
        <actionGroup ref="StorefrontClickOnMiniCartActionGroup" stepKey="openMiniCart2"/>
        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="waitForminiCartSubtotalField2"/>

        <comment userInput="Comment is added to preserve the step key for backward compatibility" stepKey="grabTextFromMiniCartSubtotalField2"/>
        <actionGroup ref="StorefrontAssertMiniCartSubtotalActionGroup" stepKey="assertSubtotalFieldFromMiniShoppingCart2">
            <argument name="expectedSubtotal" value="$4,000.00"/>
        </actionGroup>
    </test>
</tests>
