# Copyright Â© Magento, Inc. All rights reserved.
# See COPYING.txt for license details.

type StoreConfig {
    catalog_productalert_allow_stock: Boolean @doc(description: "Allow Alert When Product Comes Back in Stock")
    catalog_productalert_allow_price: Boolean @doc(description: "Allow Alert When Product Price Changes")
}

type ProductInterface {
    productalert_stock_subscribed: Boolean @resolver(class: "Convert\\ProductAlertGraphQl\\Model\\Resolver\\Product\\Stock") @doc(description: "Is Customer subscribed to Stock Alerts")
    productalert_price_subscribed: Boolean @resolver(class: "Convert\\ProductAlertGraphQl\\Model\\Resolver\\Product\\Price") @doc(description: "Is Customer subscribed to Price Alerts")
}

type Mutation {
    subscribeProductAlertStock(productId: Int!): ProductAlert @resolver(class: "Convert\\ProductAlertGraphQl\\Model\\Resolver\\Stock\\Subscribe") @doc(description: "Subscribe customer to Stock Alert")
    unsubscribeProductAlertStock(productId: Int!): Boolean @resolver(class:  "Convert\\ProductAlertGraphQl\\Model\\Resolver\\Stock\\Unsubscribe") @doc(description: "Unsubscribe customer to Stock Alert")
    subscribeProductAlertPrice(productId: Int!): ProductAlert @resolver(class: "Convert\\ProductAlertGraphQl\\Model\\Resolver\\Price\\Subscribe") @doc(description: "Subscribe customer to Price Alert")
    unsubscribeProductAlertPrice(productId: Int!): Boolean @resolver(class: "Convert\\ProductAlertGraphQl\\Model\\Resolver\\Price\\Unsubscribe") @doc(description: "Unsubscribe customer to Prce Alert")
}

type ProductAlert @doc(description: "Product Alert") {
    id: Int!
}
