<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
declare(strict_types=1);

use Magento\Framework\Escaper;
use Magento\Framework\View\Helper\SecureHtmlRenderer;
use Magento\Paypal\Block\Payment\Form\Billing\Agreement;

/** @var Escaper $escaper */
/** @var SecureHtmlRenderer $secureRenderer */
/** @var Agreement $block */
$code = $escaper->escapeHtml($block->getMethodCode());
?>
<div class="field items required" id="payment_form_<?= /* @noEscape */ $code ?>">
    <label for="<?= /* @noEscape */ $code ?>_ba_agreement_id" class="label">
        <span><?= $escaper->escapeHtml(__('Billing Agreement')) ?></span>
    </label>
    <div class="control">
        <select id="<?= /* @noEscape */ $code ?>_ba_agreement_id"
                name="payment[<?= $escaper->escapeHtml($block->getTransportName()) ?>]" class="select">
            <option value=""><?= $escaper->escapeHtml(__('-- Please Select Billing Agreement--')) ?></option>
            <?php foreach ($block->getBillingAgreements() as $id => $referenceId): ?>
                <option value="<?= $escaper->escapeHtml($id) ?>">
                    <?= $escaper->escapeHtml($referenceId) ?>
                </option>
            <?php endforeach; ?>
        </select>
    </div>
</div>
<?= /* @noEscape */ $secureRenderer->renderStyleAsTag("display:none;", 'div#payment_form_' . /* @noEscape */ $code) ?>
