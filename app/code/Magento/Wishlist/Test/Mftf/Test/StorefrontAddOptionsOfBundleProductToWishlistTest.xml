<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->

<tests xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/testSchema.xsd">
    <test name="StorefrontAddOptionsOfBundleProductToWishlistTest">
        <annotations>
            <features value="Wishlist"/>
            <stories value="StorefrontAddOptionsOfBundleProductToWishlistTest"/>
            <title value="StorefrontAddOptionsOfBundleProductToWishlistTest"/>
            <description value="fill... "/>
            <severity value="AVERAGE"/>
            <group value="wishlist"/>
            <testCaseId value="MC-7277"/>
        </annotations>

        <before>
            <createData entity="FlatRateShippingMethodDefault" stepKey="setDefaultFlatRateShippingMethod"/>
            <createData entity="Simple_US_Customer_CA" stepKey="customer"/>
            <createData entity="ApiProductWithDescription" stepKey="simple1" before="simple2"/>
            <createData entity="ApiProductWithDescription" stepKey="simple2" before="simple3"/>
            <createData entity="ApiProductWithDescription" stepKey="simple3" before="product"/>
            <createData entity="ApiBundleProduct" stepKey="product"/>
            <createData entity="CheckboxOption" stepKey="checkboxBundleOption">
                <requiredEntity createDataKey="product"/>
            </createData>
            <createData entity="ApiBundleLink" stepKey="createBundleLink1">
                <requiredEntity createDataKey="product"/>
                <requiredEntity createDataKey="checkboxBundleOption"/>
                <requiredEntity createDataKey="simple1"/>
                <field key="qty">2</field>
            </createData>
            <createData entity="ApiBundleLink" stepKey="createBundleLink2">
                <requiredEntity createDataKey="product"/>
                <requiredEntity createDataKey="checkboxBundleOption"/>
                <requiredEntity createDataKey="simple2"/>
                <field key="qty">2</field>
            </createData>
            <createData entity="ApiBundleLink" stepKey="createBundleLink3">
                <requiredEntity createDataKey="product"/>
                <requiredEntity createDataKey="checkboxBundleOption"/>
                <requiredEntity createDataKey="simple3"/>
                <field key="qty">2</field>
                <field key="is_default">1</field>
            </createData>

            <createData entity="CheckboxOption" stepKey="checkboxBundleOption2">
                <requiredEntity createDataKey="product"/>
            </createData>
            <createData entity="ApiBundleLink" stepKey="createBundleLink4">
                <requiredEntity createDataKey="product"/>
                <requiredEntity createDataKey="checkboxBundleOption2"/>
                <requiredEntity createDataKey="simple1"/>
                <field key="qty">2</field>
            </createData>
            <createData entity="ApiBundleLink" stepKey="createBundleLink5">
                <requiredEntity createDataKey="product"/>
                <requiredEntity createDataKey="checkboxBundleOption2"/>
                <requiredEntity createDataKey="simple2"/>
                <field key="qty">2</field>
            </createData>

            <actionGroup ref="AdminLoginActionGroup" stepKey="loginAsAdmin"/>
        </before>

        <after>
            <deleteData createDataKey="product" stepKey="delete"/>
            <deleteData createDataKey="customer" stepKey="deleteCustomer"/>
            <deleteData createDataKey="simple1" stepKey="deleteSimple1" before="deleteSimple2"/>
            <deleteData createDataKey="simple2" stepKey="deleteSimple2" before="deleteSimple3"/>
            <deleteData createDataKey="simple3" stepKey="deleteSimple3" before="delete"/>
        </after>

        <!-- Start creating a bundle product -->
<!--        <actionGroup ref="AdminOpenProductIndexPageActionGroup" stepKey="goToProductList"/>-->
<!--        <actionGroup ref="GoToCreateProductPageActionGroup" stepKey="goToCreateProduct">-->
<!--            <argument name="product" value="BundleProduct"/>-->
<!--        </actionGroup>-->
<!--        <actionGroup ref="FillProductNameAndSkuInProductFormActionGroup" stepKey="fillNameAndSku">-->
<!--            <argument name="product" value="BundleProduct"/>-->
<!--        </actionGroup>-->

<!--        &lt;!&ndash; Add Option One, a "Checkbox" type option, with tree products &ndash;&gt;-->
<!--        <actionGroup ref="AddBundleOptionWithThreeProductsActionGroup" stepKey="addBundleOptionWithTreeProducts">-->
<!--            <argument name="x" value="0"/>-->
<!--            <argument name="n" value="1"/>-->
<!--            <argument name="prodOneSku" value="$$simpleProduct1.sku$$"/>-->
<!--            <argument name="prodTwoSku" value="$$simpleProduct2.sku$$"/>-->
<!--            <argument name="prodTreeSku" value="$$simpleProduct3.sku$$"/>-->
<!--            <argument name="optionTitle" value="Option One"/>-->
<!--            <argument name="inputType" value="checkbox"/>-->
<!--        </actionGroup>-->

<!--        &lt;!&ndash; Save product&ndash;&gt;-->
<!--        <actionGroup ref="SaveProductFormActionGroup" stepKey="saveProduct"/>-->

<!--         Storefront Login as customer-->
        <actionGroup ref="StorefrontOpenCustomerLoginPageActionGroup" stepKey="goToSignInPage"/>
        <actionGroup ref="StorefrontFillCustomerLoginFormActionGroup" stepKey="fillLoginFormWithCorrectCredentials">
            <argument name="customer" value="$$customer$$"/>
        </actionGroup>
        <actionGroup ref="StorefrontClickSignOnCustomerLoginFormActionGroup" stepKey="clickSignInAccountButton"/>
        <see stepKey="seeFirstName" userInput="$$customer.firstname$$"
             selector="{{StorefrontCustomerDashboardAccountInformationSection.ContactInformation}}"/>
        <see stepKey="seeLastName" userInput="$$customer.lastname$$"
             selector="{{StorefrontCustomerDashboardAccountInformationSection.ContactInformation}}"/>
        <see stepKey="seeEmail" userInput="$$customer.email$$"
             selector="{{StorefrontCustomerDashboardAccountInformationSection.ContactInformation}}"/>

<!--        Go to Storefront and open Bundle Product page-->

<!--        <actionGroup ref="StorefrontOpenProductPageActionGroup" stepKey="openProductPage">-->
<!--            <argument name="productUrl" value="$$product.sku$$"/>-->
<!--        </actionGroup>-->

<!--&lt;!&ndash;        &ndash;&gt;-->
<!--&lt;!&ndash;        <amOnPage url="$$createBundleProduct.urlKey}}.html" stepKey="goToStorefront"/>&ndash;&gt;-->
<!--&lt;!&ndash;        <waitForPageLoad stepKey="waitForStorefront"/>&ndash;&gt;-->

<!--        &lt;!&ndash;Click "Customize and Add to Cart" button&ndash;&gt;-->
<!--        <click selector="{{StorefrontBundledSection.addToCart}}" stepKey="clickCustomize"/>-->

<!--        &lt;!&ndash;Chose all products from 1st & 3rd options &ndash;&gt;-->
<!--        <click stepKey="selectProduct1" selector="{{StorefrontBundledSection.productCheckbox('1','1')}}"/>-->
<!--        <click stepKey="selectProduct2" selector="{{StorefrontBundledSection.productCheckbox('1','2')}}"/>-->
<!--        <click stepKey="selectProduct3" selector="{{StorefrontBundledSection.productCheckbox('1','3')}}"/>-->

<!--        &lt;!&ndash;Unselect products 2nd & 3rd options &ndash;&gt;-->
<!--        <click stepKey="unselectProduct2" selector="{{StorefrontBundledSection.productCheckbox('1','2')}}"/>-->
<!--        <click stepKey="unselectProduct3" selector="{{StorefrontBundledSection.productCheckbox('1','3')}}"/>-->

<!--        &lt;!&ndash;Add product to wishlist &ndash;&gt;-->
<!--        <actionGroup ref="StorefrontCustomerAddProductToWishlistActionGroup" stepKey="addToWishlistProduct">-->
<!--            <argument name="productVar" value="BundleProduct"/>-->
<!--        </actionGroup>-->

<!--        &lt;!&ndash;Assert product details in Wishlist&ndash;&gt;-->
<!--        <actionGroup ref="AssertProductDetailsInWishlistActionGroup" stepKey="assertProductDetails">-->
<!--            <argument name="productName" value="{{BundleProduct.name}}"/>-->
<!--            <argument name="label" value="$$simpleProduct1.title$$"/>-->
<!--            <argument name="labelValue" value="$$simpleProduct1.sku$$"/>-->
<!--        </actionGroup>-->

<!--        &lt;!&ndash; Assert product details not in Wishlist &ndash;&gt;-->
<!--        <actionGroup ref="AssertProductDetailsIsNotInWishlistActionGroup"-->
<!--                     stepKey="assertProductDetailsNotPresent2">-->
<!--            <argument name="productName" value="{{BundleProduct.name}}"/>-->
<!--            <argument name="label" value="$$simpleProduct2.title$$"/>-->
<!--            <argument name="labelValue" value="$$simpleProduct2.sku$$"/>-->
<!--        </actionGroup>-->

<!--        &lt;!&ndash; Assert product details not in Wishlist &ndash;&gt;-->
<!--        <actionGroup ref="AssertProductDetailsIsNotInWishlistActionGroup"-->
<!--                     stepKey="assertProductDetailsNotPresent3">-->
<!--            <argument name="productName" value="{{BundleProduct.name}}"/>-->
<!--            <argument name="label" value="$$simpleProduct3.title$$"/>-->
<!--            <argument name="labelValue" value="$$simpleProduct3.sku$$"/>-->
<!--        </actionGroup>-->

    </test>
</tests>