<?php
/**
 * Copyright Â© 2015 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */

/* @var $block \Magento\ConfigurableProduct\Block\Adminhtml\Product\Steps\Bulk */
?>
<div data-bind="scope: '<?= $block->getComponentName()?>'">
    <h1 class="modal-title" style="padding-bottom: 10px"><?= __('Bulk Images, Pricing, and Inventory') ?></h1>
    <div style="padding-bottom: 10px">
        <span><?= __('Based on your selections 24 new products will be created. Use this step to customize images
        and pricing for your new products.') ?></span>
    </div>
    <div data-bind="foreach:sections">
        <div data-role="section" style="margin-top: 20px;">
            <div style="float: left; border: 0px" data-bind="text: label"></div>
            <div style="border-bottom: 1px solid gray; clear: both;"></div>
            <ul style="list-style-type: none; margin-top: 10px;">
                <li>
                    <label>
                        <input type="radio" value="single"
                               data-bind="attr:{name:label}, checked:type">
                        <span><?= __('Apply single inventory to each SKUs') ?></span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="radio" value="each" data-bind="attr:{name:label}, checked:type">
                        <span><?= __('Apply unique inventory by attribute to each SKU') ?></span>
                    </label>
                </li>
                <li>
                    <label>
                        <input type="radio" value="none" checked
                               data-bind="attr:{name:label}, checked:type">
                        <span><?= __('Skip inventory at this time') ?></span>
                    </label>
                </li>
            </ul>
            <div data-bind="visible: type() == 'single'"
                 style="list-style-type: none;margin-top: 10px;background-color: lightgrey;"
                >
                <label>
                    <span data-bind="text:label"></span>
                    <input type="text" data-bind="value:value">
                </label>
            </div>
            <div data-bind="visible: type() == 'each'">
                <select style="margin-left: 15px;width: 202px;margin-bottom: 10px;" data-bind="
                    options: $parent.attributes(),
                    optionsText: 'label',
                    value: attribute,
                    optionsCaption: 'Select'"
                ></select>
                <ul style="list-style-type: none;margin-top: 10px;background-color: lightgrey;"
                    data-bind="if:attribute"
                    >
                    <!-- ko foreach: attribute().options -->
                    <li style="margin-left: 15px;">
                        <label>
                            <span data-bind="text:label"></span>
                            <input type="text" data-bind="value:sections()[$parent.label]">
                        </label>
                    </li>
                    <!-- /ko -->
                </ul>
            </div>
        </div>
    </div>
</div>

<script type="text/x-magento-init">
    {
        "*": {
            "Magento_Ui/js/core/app": {
                "components": {
                    "<?= $block->getComponentName()?>": {
                        "component": "Magento_ConfigurableProduct/js/variations/steps/bulk",
                        "appendTo": "<?= $block->getParentComponentName()?>"
                    }
                }
            }
        }
    }
</script>
