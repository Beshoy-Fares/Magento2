<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
declare(strict_types=1);

use Magento\AdminNotification\Block\System\Messages\UnreadMessagePopup;
use Magento\Framework\Escaper;
use Magento\Framework\View\Helper\SecureHtmlRenderer;

/** @var UnreadMessagePopup $block */
/** @var Escaper $escaper */
/** @var SecureHtmlRenderer $secureRenderer */
?>
<div id="system_messages_list" data-role="system_messages_list"
     title="<?= $escaper->escapeHtmlAttr($block->getPopupTitle()) ?>">
    <ul class="message-system-list messages">
        <?php foreach ($block->getUnreadMessages() as $message): ?>
            <li class="message message-warning <?= $escaper->escapeHtmlAttr($block->getItemClass($message)) ?>">
                <?= $escaper->escapeHtml($message->getText()) ?>
            </li>
        <?php endforeach;?>
    </ul>
</div>
<?= /* @noEscape */ $secureRenderer->renderStyleAsTag('display:none', '#system_messages_list'); ?>

<script type="text/x-magento-init">
    {
        "[data-role=system_messages_list]": {
            "Magento_AdminNotification/js/system/messages/popup": {
                "class":"modal-system-messages ui-popup-message"
            }
        }
    }
</script>
