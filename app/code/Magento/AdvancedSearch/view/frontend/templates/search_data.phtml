<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
declare(strict_types=1);

use Magento\AdvancedSearch\Block\SearchData;
use Magento\Framework\Escaper;
use Magento\Framework\Locale\LocaleFormatter;
use Magento\Search\Model\QueryResult;

/** @var SearchData $block */
/** @var Escaper $escaper */
/** @var LocaleFormatter $localeFormatter */
/** @var QueryResult[] $data */
$data = $block->getItems();
?>
<?php if (count($data)): ?>
    <dl class="block">
        <dt class="title"><?= $escaper->escapeHtml(__($block->getTitle())); ?></dt>
        <?php foreach ($data as $additionalInfo): ?>
            <dd class="item">
                <a href="<?= $escaper->escapeUrl($block->getLink($additionalInfo->getQueryText())); ?>">
                    <?= $escaper->escapeHtml($additionalInfo->getQueryText()); ?>
                </a>
                <?php if ($block->isShowResultsCount()): ?>
                    <span class="count">
                        <?= /* @noEscape */ $localeFormatter->formatNumber((int)$additionalInfo->getResultsCount()); ?>
                    </span>
                <?php endif; ?>
            </dd>
        <?php endforeach; ?>
    </dl>
<?php endif; ?>
