<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
declare(strict_types=1);

use Magento\Framework\Escaper;
use Magento\Framework\View\Helper\SecureHtmlRenderer;
use Magento\ImportExport\Block\Adminhtml\Form\After;

/** @var Escaper $escaper */
/** @var After $block */
/** @var SecureHtmlRenderer $secureRenderer */
?>
<fieldset class="admin__fieldset" id="export_filter_container">
    <legend class="admin__legend">
        <span><?= $escaper->escapeHtml(__('Entity Attributes')) ?></span>
    </legend>
    <br />
    <form id="export_filter_form" action="<?= $escaper->escapeUrl($block->getUrl('*/*/export')) ?>" method="post">
        <input name="form_key" type="hidden" value="<?= /* @noEscape */ $block->getFormKey() ?>" />
        <div id="export_filter_grid_container"><!-- --></div>
    </form>
    <button class="action- scalable" type="button">
        <span><?= $escaper->escapeHtml(__('Continue')) ?></span>
    </button>
</fieldset>
<?= /* @noEscape */ $secureRenderer->renderStyleAsTag("display:none;", 'fieldset#export_filter_container') ?>
<?= /* @noEscape */ $secureRenderer->renderEventListenerAsTag(
    'onclick',
    "getFile();",
    'fieldset#export_filter_container button'
) ?>
<?php $scriptString = <<<script
require(['prototype'], function(){

//<![CDATA[
   $('entity').selectedIndex = 0; // forced resetting entity selector after page refresh
//]]>

});
script;
?>
<?= /* @noEscape */ $secureRenderer->renderTag('script', [], $scriptString, false) ?>
