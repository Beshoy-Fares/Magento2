<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->

<actionGroups xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/actionGroupSchema.xsd">
    <actionGroup name="StorefrontCustomerCreateAccountWithAdditionalInformationActionGroup" extends="SignUpNewUserFromStorefrontActionGroup">
        <annotations>
            <description>EXTENDS: SignUpNewUserFromStorefrontActionGroup. Fills prefix, suffix, DOB, VAT number, gender, company, telephone, fax, address fields.</description>
        </annotations>
        <arguments>
            <argument name="dob" defaultValue="{{EN_US_DATE.short4DigitYear}}" type="string"/>
            <argument name="address" type="entity"/>
            <argument name="customerGender" defaultValue="{{Gender.male}}" type="string"/>
        </arguments>
        <fillField selector="{{StorefrontCustomerCreateFormSection.prefixField}}" userInput="{{Customer.prefix}}" after="fillLastName" stepKey="fillPrefixName"/>
        <fillField selector="{{StorefrontCustomerCreateFormSection.suffixField}}" userInput="{{Customer.suffix}}" after="fillPrefixName" stepKey="fillSuffixName"/>
        <fillField selector="{{StorefrontCustomerCreateFormSection.dobField}}" userInput="{{dob}}" after="fillSuffixName" stepKey="fillDob"/>
        <fillField selector="{{StorefrontCustomerCreateFormSection.taxvatField}}" userInput="{{Customer.taxvat}}" after="fillDob" stepKey="fillTaxvat"/>
        <selectOption selector="{{StorefrontCustomerCreateFormSection.genderField}}" userInput="{{customerGender}}" after="fillTaxvat" stepKey="fillGender"/>
        <fillField selector="{{StorefrontCustomerCreateFormSection.companyField}}" userInput="{{address.company}}" after="fillGender" stepKey="fillCompany"/>
        <fillField selector="{{StorefrontCustomerCreateFormSection.telephoneField}}" userInput="{{address.telephone}}" after="fillCompany" stepKey="fillPhoneNumber"/>
        <fillField selector="{{StorefrontCustomerCreateFormSection.faxField}}" userInput="{{address.fax}}" after="fillPhoneNumber" stepKey="fillFax"/>
        <fillField selector="{{StorefrontCustomerCreateFormSection.streetField}}" userInput="{{address.street[0]}}" after="fillFax" stepKey="fillStreetAddress"/>
        <selectOption selector="{{StorefrontCustomerCreateFormSection.countryField}}" userInput="{{address.country_id}}" after="fillStreetAddress" stepKey="selectCounty"/>
        <selectOption selector="{{StorefrontCustomerCreateFormSection.regionField}}" userInput="{{address.state}}" after="selectCounty" stepKey="selectRegion" />
        <fillField selector="{{StorefrontCustomerCreateFormSection.cityField}}" userInput="{{address.city}}" after="selectRegion" stepKey="fillCityName"/>
        <fillField selector="{{StorefrontCustomerCreateFormSection.postcodeField}}" userInput="{{address.postcode}}" after="fillCityName" stepKey="fillZip"/>
    </actionGroup>
</actionGroups>
