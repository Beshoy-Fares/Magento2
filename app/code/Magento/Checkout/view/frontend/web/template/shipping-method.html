<!--
/**
 * Copyright Â© 2015 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<li id="opc-shipping_method" data-bind="fadeVisible: isActive()" role="presentation">
    <div class="shippingMethod checkout-shipping-method">
    <div class="step-title" data-role="title">
        <h2 data-bind="text: $t('Shipping Method')"></h2>
    </div>
        <!-- ko foreach: getRegion('beforeSelect') -->
        <!-- ko template: getTemplate() --><!-- /ko -->
        <!-- /ko -->
    <div id="checkout-step-shipping_method"
         class="step-content"
         data-role="content"
         role="tabpanel"
         aria-hidden="false"
         data-bind="fadeVisible: isVisible()">
        <!-- ko if: rates().length  -->
        <form class="form methods-shipping" id="co-shipping-method-form" data-bind="submit: setShippingMethod" novalidate="novalidate">
            <div id="checkout-shipping-method-load">
                <table class="table-checkout-shipping-method">
                    <thead>
                        <tr>
                            <th class="col">&nbsp;</th>
                            <th class="col col-price">Price</th>
                            <th class="col col-method">Method Title</th>
                            <th class="col col-carrier">Carrier Title</th>
                        </tr>
                    </thead>

                    <tbody>
                    <!--ko foreach: { data: rates(), as: 'method'}-->
                        <!--ko foreach: { data: items, as: 'item'}-->
                            <tr>
                                <td>
                                    <!-- ko if:  item.error_message -->
                                    <div class="message error">
                                        <div data-bind="text: $t(item.error_message)"></div>
                                    </div>
                                            <span class="no-display">
                                                <input name="shipping_method" type="radio" data-bind="attr: {'value' : item.method_code, 'id': 's_method_' + item.method_code}"/>
                                            </span>
                                    <!-- /ko -->
                                    <!-- ko ifnot: item.error_message -->
                                    <!-- ko if: $parent.items.length && $parents[1].rates().length == 1 -->
                                    <input data-bind="attr: {'value' : item.carrier_code + '_' + item.method_code, 'id': 's_method_' + item.method_code}"
                                           name="shipping_method"
                                           class="radio"
                                           type="radio"
                                           checked="checked"/>
                                    <!-- /ko -->
                                    <!--ko ifnot: ($parent.items.length && $parents[1].rates().length == 1)-->
                                    <input name="shipping_method" type="radio"
                                           data-bind="checked:$parents[1].verifySelectedMethodCode(item.carrier_code + '_' + item.method_code), attr: {'value': item.carrier_code + '_' + item.method_code, 'id': 's_method_' + item.carrier_code + '_' + item.method_code}"
                                           class="radio"/>
                                    <!--/ko-->
                                    <!-- /ko -->
                                </td>
                                <td class="col col-price" data-bind="text: $t(item.amount)"></td>
                                <td class="col col-method" data-bind="text: $t(item.method_title)"></td>
                                <td class="col col-carrier" data-bind="text: $t(method.carrier_title)"></td>
                            </tr>
                        <!-- /ko -->
                    <!-- /ko -->
                    </tbody>
                </table>
            </div>

            <div id="onepage-checkout-shipping-method-additional-load">
                <!-- ko foreach: getRegion('shippingAdditional') -->
                    <!-- ko template: getTemplate() --><!-- /ko -->
                <!-- /ko -->
            </div>
            <div class="actions-toolbar" id="shipping-method-buttons-container">
                <div class="primary">
                    <button data-role="opc-continue" type="submit" class="button action continue primary">
                        <span><!-- ko text: $t('Continue')--><!-- /ko --></span>
                    </button>
                </div>
            </div>
        </form>
        <!-- /ko -->
        </div>
        </div>
</li>
