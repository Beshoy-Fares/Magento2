<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
declare(strict_types=1);

use Magento\Backend\Helper\Dashboard\Data;
use Magento\Framework\Escaper;

/** @var Escaper $escaper */

/**
 * @deprecated dashboard graphs were migrated to dynamic chart.js solution
 * @see Magento_Backend::dashboard/chart.phtml
 * @phpcs:ignoreFile
 */
?>
<div class="dashboard-diagram">
    <div class="dashboard-diagram-switcher">
        <label for="order_<?= $escaper->escapeHtmlAttr($block->getHtmlId()); ?>_period"
               class="label">
            <?= $escaper->escapeHtml(__('Select Range:')); ?>
        </label>
        <select name="period"
                id="order_<?= $escaper->escapeHtmlAttr($block->getHtmlId()); ?>_period"
                onchange="changeDiagramsPeriod(this);"
                class="admin__control-select">
            <?php //phpcs:disable ?>
            <?php foreach ($this->helper(Data::class)->getDatePeriods() as $value => $label): ?>
                <?php //phpcs:enable ?>
                <?php if (in_array($value, ['custom'])): ?>
                    <?php continue; ?>
                <?php endif; ?>

                <option value="<?= /* @noEscape */ $value; ?>"
                        <?php if ($block->getRequest()->getParam('period') == $value): ?>
                            selected="selected"
                        <?php endif; ?>>
                    <?= $escaper->escapeHtml($label); ?>
                </option>
            <?php endforeach; ?>
        </select>
    </div>
    <?php if ($block->getCount()): ?>
        <div class="dashboard-diagram-image">
            <img src="<?= $escaper->escapeUrl($block->getChartUrl(false)); ?>"
                 class="dashboard-diagram-chart"
                 alt="<?= $escaper->escapeHtmlAttr(__('Chart')); ?>"
                 title="<?= $escaper->escapeHtmlAttr(__('Chart')); ?>"/>
        </div>
    <?php else : ?>
        <div class="dashboard-diagram-nodata">
            <span><?= $escaper->escapeHtml(__('No Data Found')); ?></span>
        </div>
    <?php endif; ?>
</div>
