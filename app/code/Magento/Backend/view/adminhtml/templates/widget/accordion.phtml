<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
declare(strict_types=1);

use Magento\Backend\Block\Widget\Accordion;
use Magento\Framework\Escaper;
use Magento\Framework\View\Helper\SecureHtmlRenderer;

/** @var Escaper $escaper */
/** @var SecureHtmlRenderer $secureRenderer */
/** @var Accordion $block */
$items = $block->getItems();
?>
<?php if (!empty($items)): ?>
    <dl id="tab_content_<?= $escaper->escapeHtmlAttr($block->getHtmlId()) ?>"
        name="tab_content_<?= $block->getHtmlId() ?>"
        class="accordion">
    <?php foreach ($items as $_item): ?>
        <?= $block->getChildHtml($_item->getId()) ?>
    <?php endforeach ?>
    </dl>
    <?php $scriptString = <<<script
        require([
            'mage/adminhtml/accordion'
        ], function(){
            tab_content_{$block->getHtmlId()}AccordionJs = new varienAccordion('tab_content_{$block->getHtmlId()}',
             '{$escaper->escapeJs($block->getShowOnlyOne())}');
        });
script;
    ?>
    <?= /* @noEscape */ $secureRenderer->renderTag('script', [], $scriptString, false) ?>
<?php endif; ?>
