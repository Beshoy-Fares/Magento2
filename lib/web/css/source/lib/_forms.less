// /**
//  * Copyright Â© 2015 Magento. All rights reserved.
//  * See COPYING.txt for license details.
//  */

//
//  Forms
//  _____________________________________________

.mixin-form-element-input(
    @_type: @form-element-input-type,
    @_background: ~"@{@{_type}__background}",
    @_border: ~"@{@{_type}__border}",
    @_border-radius: ~"@{@{_type}__border-radius}",
    @_height: ~"@{@{_type}__height}",
    @_width: ~"@{@{_type}__width}",
    @_padding: ~"@{@{_type}__padding}",
    @_margin: ~"@{@{_type}__margin}",
    @_vertical-align: ~"@{@{_type}__vertical-align}",
    @_background-clip: ~"@{@{_type}__background-clip}",

    @_font-size:  ~"@{@{_type}__font-size}",
    @_color: ~"@{@{_type}__color}",
    @_font-family: ~"@{@{_type}__font-family}",
    @_font-weight: ~"@{@{_type}__font-weight}",
    @_line-height: ~"@{@{_type}__line-height}",
    @_font-style: ~"@{@{_type}__font-style}",

    @_placeholder-color: ~"@{@{_type}-placeholder__color}",
    @_placeholder-font-style: ~"@{@{_type}-placeholder__font-style}",

    @_disabled-background: ~"@{@{_type}__disabled__background}",
    @_disabled-border: ~"@{@{_type}__disabled__border}",
    @_disabled-opacity: ~"@{@{_type}__disabled__opacity}",
    @_disabled-color: ~"@{@{_type}__disabled__color}",
    @_disabled-font-style: ~"@{@{_type}__disabled__font-style}",

    @_focus-background: ~"@{@{_type}__focus__background}",
    @_focus-border: ~"@{@{_type}__focus__border}",
    @_focus-color: ~"@{@{_type}__focus__color}",
    @_focus-font-style: ~"@{@{_type}__focus__font-style}"
) {
    box-sizing: border-box;
    .css(background, @_background);
    .css(background-clip, @_background-clip);
    .css(border, @_border);
    .css(border-radius, @_border-radius);
    .css(color, @_color);
    .css(font-family, @_font-family);
    .css(font-size, @_font-size);
    .css(font-style, @_font-style);
    .css(font-weight, @_font-weight);
    .css(height, @_height);
    .css(line-height, @_line-height);
    .css(margin, @_margin);
    .css(padding, @_padding);
    .css(vertical-align, @_vertical-align);
    .css(width, @_width);

    ._form-element-focus(
        @_background,
        @_focus-background,
        @_border,
        @_focus-border,
        @_color,
        @_focus-color,
        @_font-style,
        @_focus-font-style
    );

    ._form-element-disabled(
        @_background,
        @_disabled-background,
        @_border,
        @_disabled-border,
        @_color,
        @_disabled-color,
        @_font-style,
        @_disabled-font-style,
        @_disabled-opacity
    );

    ._form-element-placeholder(
        @_type,
        @_placeholder-color,
        @_font-style,
        @_placeholder-font-style
    );
}

.mixin-form-element-choice(
    @_type: @form-element-choice__type,
    @_vertical-align: ~"@{@{_type}__vertical-align}",
    @_margin: ~"@{@{_type}__margin}",
    @_disabled-opacity: ~"@{@{_type}__disabled__opacity}"
) {
    .css(margin, @_margin);
    .css(vertical-align, @_vertical-align);
    &:disabled {
        ._form-element-add-opacity(@_disabled-opacity);
    }
}

.mixin-form-element-number-reset() {
    &::-webkit-inner-spin-button,
    &::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    -moz-appearance: textfield;
}

.mixin-form-element-search-reset() {
    -webkit-appearance: none;
    &::-webkit-search-cancel-button,
    &::-webkit-search-decoration,
    &::-webkit-search-results-button,
    &::-webkit-search-results-decoration {
        -webkit-appearance: none;
    }
}

.mixin-form-element-textarea-resize(@_textarea-resize: @textarea__resize) {
    .css(resize, @_textarea-resize);
}

.mixin-form-element-color(
    @_border-color: '',
    @_background: '',
    @_color: '',
    @_focus-border-color: '',
    @_focus-background: '',
    @_focus-color: '',
    @_disabled-border-color: '',
    @_disabled-background: '',
    @_disabled-color: '',
    @_placeholder-color: ''
) {
    .css(background, @_background);
    .css(border-color, @_border-color);
    .css(color, @_color);
    &:focus {
        ._form-element-state-add-border-color(@_focus-border-color, @_border-color);
        ._form-element-state-add-background(@_focus-background, @_background);
        ._form-element-state-add-font-color(@_focus-color, @_color);
    }
    &:disabled {
        ._form-element-state-add-border-color(@_disabled-border-color, @_border-color);
        ._form-element-state-add-background(@_disabled-background, @_background);
        ._form-element-state-add-font-color(@_disabled-color, @_color);
    }
    &::-moz-placeholder {
        .css(color, @_placeholder-color);
    }
    &::-webkit-input-placeholder {
        .css(color, @_placeholder-color);
    }
    &:-ms-input-placeholder {
        .css(color, @_placeholder-color);
    }
}

.mixin-form-validation(
    @_element-color-error: @form-element-validation__color-error,
    @_element-color-valid: @form-element-validation__color-valid,
    @_element-border-color-error: @form-element-validation__border-error,
    @_element-border-color-valid: @form-element-validation__border-valid,
    @_element-background-error: @form-element-validation__background-error,
    @_element-background-valid: @form-element-validation__background-valid
) {
    &.mage-error {
        .mixin-form-element-color(
            @_border-color: @_element-border-color-error,
            @_background: @_element-background-error,
            @_color: @_element-color-error
        );
    }
    &.valid {
        .mixin-form-element-color(
            @_border-color: @_element-border-color-valid,
            @_background: @_element-background-valid,
            @_color: @_element-color-valid
        );
    }
}

.mixin-form-validation-note(
    @_note-color: @form-validation-note__color-error,
    @_note-font-size: @form-validation-note__font-size,
    @_note-font-family: @form-validation-note__font-family,
    @_note-font-style: @form-validation-note__font-style,
    @_note-font-weight: @form-validation-note__font-weight,
    @_note-line-height: @form-validation-note__line-height,
    @_note-margin: @form-validation-note__margin,
    @_note-padding: @form-validation-note__padding,
    @_note-icon-use: @form-validation-note-icon__use,

    @_note-icon-font-content: @form-validation-note-icon__font-content,
    @_note-icon-font: @form-validation-note-icon__font,
    @_note-icon-font-size: @form-validation-note-icon__font-size,
    @_note-icon-font-line-height: @form-validation-note-icon__font-line-height,
    @_note-icon-font-color: @form-validation-note-icon__font-color,
    @_note-icon-font-color-hover: @form-validation-note-icon__font-color-hover,
    @_note-icon-font-color-active: @form-validation-note-icon__font-color-active,
    @_note-icon-font-margin: @form-validation-note-icon__font-margin,
    @_note-icon-font-vertical-align: @form-validation-note-icon__font-vertical-align,
    @_note-icon-font-position: @form-validation-note-icon__font-position,
    @_note-icon-font-text-hide: @form-validation-note-icon__font-text-hide
) {
    .mixin-typography(
        @_font-size: @_note-font-size,
        @_color: @_note-color,
        @_font-family: @_note-font-family,
        @_font-weight: @_note-font-weight,
        @_line-height: @_note-line-height,
        @_font-style: @_note-font-style
    );
    ._form-validation-icon(
        @_note-icon-use,
        @_note-icon-font-content,
        @_note-icon-font,
        @_note-icon-font-size,
        @_note-icon-font-line-height,
        @_note-icon-font-color,
        @_note-icon-font-color-hover,
        @_note-icon-font-color-active,
        @_note-icon-font-margin,
        @_note-icon-font-vertical-align,
        @_note-icon-font-position,
        @_note-icon-font-text-hide
    );
}

.mixin-form-validation-color(
    @_element-border-color-error: '',
    @_element-background-error: '',
    @_element-color-error: '',
    @_element-border-color-valid: '',
    @_element-background-valid: '',
    @_element-color-valid: ''
) {
    &.mage-error {
        .mixin-form-element-color(
            @_border-color: @_element-border-color-error,
            @_background: @_element-background-error,
            @_color: @_element-color-error
        );
    }
    &.valid {
        .mixin-form-element-color(
            @_border-color: @_element-border-color-valid,
            @_background: @_element-background-valid,
            @_color: @_element-color-valid
        );
    }
}

.mixin-form-element-all() {
    input[type="text"],
    input[type="password"],
    input[type="url"],
    input[type="tel"],
    input[type="search"],
    input[type="number"],
    input[type="datetime"],
    input[type="email"] {
        .mixin-form-element-input(@_type: input-text);
    }

    input[type="number"] {
        .mixin-form-element-number-reset();
    }

    input[type="search"] {
        .mixin-form-element-search-reset();
    }

    select {
        .mixin-form-element-input(@_type: select);
    }

    select[multiple="multiple"] {
        .css(height, auto);
        background-image: none;
    }

    textarea {
        .mixin-form-element-input(@_type: textarea);
        .mixin-form-element-textarea-resize();
    }

    input[type="checkbox"] {
        .mixin-form-element-choice(@_type: input-checkbox);
    }

    input[type="radio"] {
        .mixin-form-element-choice(@_type: input-radio);
    }

    input,
    select,
    textarea {
        .mixin-form-validation();
    }

    div.mage-error[generated] {
        .mixin-form-validation-note();
    }

    input[type="button"],
    input[type="reset"],
    input[type="submit"] {
        cursor: pointer;
        -webkit-appearance: button;
        *overflow: visible;
    }

    input::-moz-focus-inner {
        border: 0;
        padding: 0;
    }
}

//
//  Internal use mixins
//  ---------------------------------------------

._form-validation-icon(
    @_note-icon-use,
    @_note-icon-font-content,
    @_note-icon-font,
    @_note-icon-font-size,
    @_note-icon-font-line-height,
    @_note-icon-font-color,
    @_note-icon-font-color-hover,
    @_note-icon-font-color-active,
    @_note-icon-font-margin,
    @_note-icon-font-vertical-align,
    @_note-icon-font-position,
    @_note-icon-font-text-hide
) when (@_note-icon-use = true) {
    .mixin-icon-font(
        @_icon-font-content: @_note-icon-font-content,
        @_icon-font: @_note-icon-font,
        @_icon-font-size: @_note-icon-font-size,
        @_icon-font-line-height: @_note-icon-font-line-height,
        @_icon-font-color: @_note-icon-font-color,
        @_icon-font-color-hover: @_note-icon-font-color-hover,
        @_icon-font-color-active: @_note-icon-font-color-active,
        @_icon-font-margin: @_note-icon-font-margin,
        @_icon-font-vertical-align: @_note-icon-font-vertical-align,
        @_icon-font-position: @_note-icon-font-position,
        @_icon-font-text-hide: @_note-icon-font-text-hide
    );
}

._form-element-add-opacity(@_opacity) when not (@_opacity = 1) {
    .css(opacity, @_opacity);
}

//  Only for states :disabled, :focus, placeholder
._form-element-focus(
    @_background-default,
    @_background-state,
    @_border-default,
    @_border-state,
    @_color-default,
    @_color-state,
    @_font-style-default,
    @_font-style-state
) {
    &:focus {
        ._form-element-state-add-background(@_background-state, @_background-default);
        ._form-element-state-add-border(@_border-state, @_border-default);
        ._form-element-state-add-font-color(@_color-state, @_color-default);
        ._form-element-state-add-font-style(@_font-style-state, @_font-style-default);
    }
}

._form-element-disabled(
    @_background-default,
    @_background-state,
    @_border-default,
    @_border-state,
    @_color-default,
    @_color-state,
    @_font-style-default,
    @_font-style-state,
    @_opacity
) {
    &:disabled {
        ._form-element-add-opacity(@_opacity);
        ._form-element-state-add-background(@_background-state, @_background-default);
        ._form-element-state-add-border(@_border-state, @_border-default);
        ._form-element-state-add-font-color(@_color-state, @_color-default);
        ._form-element-state-add-font-style(@_font-style-state, @_font-style-default);
    }
}

._form-element-placeholder(
    @_type,
    @_color,
    @_font-style-default,
    @_font-style-state
) when not (@_type = select) {
    &::-moz-placeholder {
        .css(color, @_color);
        ._form-element-state-add-font-style(@_font-style-state, @_font-style-default);
    }
    &::-webkit-input-placeholder {
        .css(color, @_color);
        ._form-element-state-add-font-style(@_font-style-state, @_font-style-default);
    }
    &:-ms-input-placeholder {
        .css(color, @_color);
        ._form-element-state-add-font-style(@_font-style-state, @_font-style-default);
    }
}

._form-element-state-add-background(@_background-state, @_background-default) when not (@_background-state = @_background-default) {
    .css(background, @_background-state);
}

._form-element-state-add-border(@_border-state, @_border-default) when not ('@{_border-state}' = '@{_border-default}') {
    .css(border, @_border-state);
}

._form-element-state-add-border-color(@_border-state, @_border-default) when not (@_border-state = @_border-default) {
    .css(border-color, @_border-state);
}

._form-element-state-add-font-style(@_font-style-state, @_font-style-default) when not (@_font-style-state = @_font-style-default) {
    .css(font-style, @_font-style-state);
}

._form-element-state-add-font-color(@_color-state, @_color-default) when not (@_color-state = @_color-default) {
    .css(color, @_color-state);
}

.mixin-form-fieldset(
    @_border: @form-fieldset__border,
    @_margin: @form-fieldset__margin,
    @_padding: @form-fieldset__padding,
    @_legend-color: @form-fieldset-legend__color,
    @_legend-font-size: @form-fieldset-legend__font-size,
    @_legend-font-family: @form-fieldset-legend__font-family,
    @_legend-font-weight: @form-fieldset-legend__font-weight,
    @_legend-font-style: @form-fieldset-legend__font-style,
    @_legend-line-height: @form-fieldset-legend__line-height,
    @_legend-margin: @form-fieldset-legend__margin,
    @_legend-padding: @form-fieldset-legend__padding,
    @_legend-width: @form-fieldset-legend__width
) {
    .css(border, @_border);
    .css(margin, @_margin);
    .css(padding, @_padding);
    letter-spacing: -.31em;
    //word-spacing: -.43em;

    > * {
        letter-spacing: normal;
        //word-spacing: normal;
    }

    > .legend {
        .css(margin, @_legend-margin);
        .css(padding, @_legend-padding);

        .mixin-typography(
            @_font-size: @_legend-font-size,
            @_color: @_legend-color,
            @_font-family: @_legend-font-family,
            @_font-weight: @_legend-font-weight,
            @_line-height: @_legend-line-height,
            @_font-style: @_legend-font-style
        );

        box-sizing: border-box;
        float: left;
        .css(width, @_legend-width);
        & + br {
            display: block;
            visibility: hidden;
            height: 0;
            overflow: hidden;
            clear: both;
        }
    }
}

.mixin-form-field(
    @_type: @form-field-type,
    @_type-inline-margin: @form-field-type-inline__margin,
    @_type-inline-label-margin: @form-field-type-label-inline__margin,
    @_type-inline-label-padding: @form-field-type-label-inline__padding,
    @_type-inline-label-align: @form-field-type-label-inline__align,
    @_type-inline-label-width: @form-field-type-label-inline__width,
    @_type-inline-control-width: @form-field-type-control-inline__width,
    @_vertical-indent: @form-field__vertical-indent,
    @_additional-vertical-indent: @form-field__additional-vertical-indent,
    @_type-block-margin: @form-field-type-block__margin,
    @_type-block-label-margin: @form-field-type-label-block__margin,
    @_type-block-label-padding: @form-field-type-label-block__padding,
    @_type-block-label-align: @form-field-type-label-block__align,

    @_border: @form-field__border,
    @_column: @form-field-column,
    @_column-padding: @form-field-column__padding,
    @_column-number: @form-field-column__number,

    @_label-color: @form-field-label__color,
    @_label-font-size: @form-field-label__font-size,
    @_label-font-family: @form-field-label__font-family,
    @_label-font-weight: @form-field-label__font-weight,
    @_label-font-style: @form-field-label__font-style,
    @_label-line-height: @form-field-label__line-height,

    @_label-asterisk-color: @form-field-label-asterisk__color,
    @_label-asterisk-font-size: @form-field-label-asterisk__font-size,
    @_label-asterisk-font-family: @form-field-label-asterisk__font-family,
    @_label-asterisk-font-weight: @form-field-label-asterisk__font-weight,
    @_label-asterisk-font-style: @form-field-label-asterisk__font-style,
    @_label-asterisk-line-height: @form-field-label-asterisk__line-height,
    @_label-asterisk-margin: @form-field-label-asterisk__margin,

    @_note-color: @form-field-note__color,
    @_note-font-size: @form-field-note__font-size,
    @_note-font-family: @form-field-note__font-family,
    @_note-font-weight: @form-field-note__font-weight,
    @_note-line-height: @form-field-note__line-height,
    @_note-font-style: @form-field-note__font-style,
    @_note-margin: @form-field-note__margin,
    @_note-padding: @form-field-note__padding,
    @_note-icon-font-content: @form-field-note-icon-font__content,
    @_note-icon-font: @form-field-note-icon-font,
    @_note-icon-font-size: @form-field-note-icon-font__size,
    @_note-icon-font-line-height: @form-field-note-icon-font__line-height,
    @_note-icon-font-color: @form-field-note-icon-font__color,
    @_note-icon-font-color-hover: @form-field-note-icon-font__color-hover,
    @_note-icon-font-color-active: @form-field-note-icon-font__color-active,
    @_note-icon-font-margin: @form-field-note-icon-font__margin,
    @_note-icon-font-vertical-align: @form-field-note-icon-font__vertical-align,
    @_note-icon-font-position: @form-field-note-icon-font__position,
    @_note-icon-font-text-hide: @form-field-note-icon-font__text-hide
) {
    .css(border, @_border);

    .mixin-form-field-type(
        @_type,
        @_type-inline-margin,
        @_type-inline-label-margin,
        @_type-inline-label-padding,
        @_type-inline-label-align,
        @_type-inline-label-width,
        @_type-inline-control-width,
        @_vertical-indent,
        @_type-block-margin,
        @_type-block-label-margin,
        @_type-block-label-padding,
        @_type-block-label-align
    );

    &:last-child {
        margin-bottom: 0;
    }

    .mixin-form-field-column(
        @_column,
        @_column-padding,
        @_column-number
    );

    > .label {
        .mixin-typography(
            @_font-size: @_label-font-size,
            @_color: @_label-color,
            @_font-family: @_label-font-family,
            @_font-weight: @_label-font-weight,
            @_line-height: @_label-line-height,
            @_font-style: @_label-font-style
        );
        & + br {
            display: none;
        }
    }

    .choice {
        input {
            vertical-align: top;
        }
    }

    .fields.group {
        .clearfix();
        .field {
            box-sizing: border-box;
            float: left;
        }
        &.group-2 .field {
            width: 50% !important;
        }
        &.group-3 .field {
            width: 33.3% !important;
        }
        &.group-4 .field {
            width: 25% !important;
        }
        &.group-5 .field {
            width: 20% !important;
        }
    }

    .addon {
        .vendor-prefix-display(inline-flex);
        .vendor-prefix-flex-wrap(nowrap);
        padding: 0;
        width: 100%;

        textarea,
        select,
        input {
            .vendor-prefix-order(2);
            .vendor-prefix-flex-basis(100%);
            display: inline-block;
            margin: 0;
            width: auto;
        }

        .addbefore,
        .addafter {
            .vendor-prefix-order(3);
            display: inline-block;
            .mixin-form-element-input(@_type: input-text);
            width: auto;
            white-space: nowrap;
            vertical-align: middle;
        }

        .addbefore {
            float: left;
            .vendor-prefix-order(1);
        }
    }

    .additional {
        .css(margin-top, @_additional-vertical-indent);
    }

    ._form-field-required(
        @_label-asterisk-color,
        @_label-asterisk-font-size,
        @_label-asterisk-font-family,
        @_label-asterisk-font-weight,
        @_label-asterisk-font-style,
        @_label-asterisk-line-height,
        @_label-asterisk-margin
    );

    ._form-field-note(
        @_note-font-size,
        @_note-color,
        @_note-font-family,
        @_note-font-weight,
        @_note-line-height,
        @_note-font-style,
        @_note-margin,
        @_note-padding,

        @_note-icon-font-content,
        @_note-icon-font,
        @_note-icon-font-size,
        @_note-icon-font-line-height,
        @_note-icon-font-color,
        @_note-icon-font-color-hover,
        @_note-icon-font-color-active,
        @_note-icon-font-margin,
        @_note-icon-font-vertical-align,
        @_note-icon-font-position,
        @_note-icon-font-text-hide
    );
}

.mixin-form-field-type(
    @_type: @form-field-type,
    @_type-inline-margin: @form-field-type-inline__margin,
    @_type-inline-label-margin: @form-field-type-label-inline__margin,
    @_type-inline-label-padding: @form-field-type-label-inline__padding,
    @_type-inline-label-align: @form-field-type-label-inline__align,
    @_type-inline-label-width: @form-field-type-label-inline__width,
    @_type-inline-control-width: @form-field-type-control-inline__width,
    @_vertical-indent: @form-field__vertical-indent,
    @_type-block-margin: @form-field-type-block__margin,
    @_type-block-label-margin: @form-field-type-label-block__margin,
    @_type-block-label-padding: @form-field-type-label-block__padding,
    @_type-block-label-align: @form-field-type-label-block__align
) when (@_type = inline) {
    ._form-field-type-inline(
        @_type-inline-margin,
        @_type-inline-label-margin,
        @_type-inline-label-padding,
        @_type-inline-label-width,
        @_type-inline-control-width,
        @_type-inline-label-align,
        @_vertical-indent
    );
}

.mixin-form-field-type(
    @_type: @form-field-type,
    @_type-inline-margin: @form-field-type-inline__margin,
    @_type-inline-label-margin: @form-field-type-label-inline__margin,
    @_type-inline-label-padding: @form-field-type-label-inline__padding,
    @_type-inline-label-align: @form-field-type-label-inline__align,
    @_type-inline-label-width: @form-field-type-label-inline__width,
    @_type-inline-control-width: @form-field-type-control-inline__width,
    @_vertical-indent: @form-field__vertical-indent,
    @_type-block-margin: @form-field-type-block__margin,
    @_type-block-label-margin: @form-field-type-label-block__margin,
    @_type-block-label-padding: @form-field-type-label-block__padding,
    @_type-block-label-align: @form-field-type-label-block__align
) when (@_type = block) {
    ._form-field-type-block(
        @_type-block-margin,
        @_type-block-label-margin,
        @_type-block-label-padding,
        @_type-block-label-align
    );
}

._form-field-type-inline(
    @_type-inline-margin,
    @_type-inline-label-margin,
    @_type-inline-label-padding,
    @_type-inline-label-width,
    @_type-inline-control-width,
    @_type-inline-label-align,
    @_vertical-indent
) {
    .clearfix();
    .css(margin, @_type-inline-margin);
    box-sizing: border-box;

    &.choice:before,
    &.no-label:before {
        .css(padding, @_type-inline-label-padding);
        .css(width, @_type-inline-label-width);
        box-sizing: border-box;
        content: ' ';
        float: left;
        height: 1px;
    }
    .description {
        .css(padding, @_type-inline-label-padding);
        .css(text-align, @_type-inline-label-align);
        .css(width, @_type-inline-label-width);
        box-sizing: border-box;
        float: left;
    }
    &:not(.choice) {
        > .label {
            .css(margin, @_type-inline-label-margin);
            .css(padding, @_type-inline-label-padding);
            .css(text-align, @_type-inline-label-align);
            .css(width, @_type-inline-label-width);
            box-sizing: border-box;
            float: left;
        }
        > .control {
            .css(width, @_type-inline-control-width);
            float: left;
        }
    }
}

._form-field-type-block(
    @_type-block-margin,
    @_type-block-label-margin,
    @_type-block-label-padding,
    @_type-block-label-align
) {
    .css(margin, @_type-block-margin);
    > .label {
        .css(margin, @_type-block-label-margin);
        .css(padding, @_type-block-label-padding);
        .css(text-align, @_type-block-label-align);
        display: inline-block;
    }
}

._form-field-required(
    @_color: @form-field-label-asterisk__color,
    @_font-size: @form-field-label-asterisk__font-size,
    @_font-family: @form-field-label-asterisk__font-family,
    @_font-weight: @form-field-label-asterisk__font-weight,
    @_font-style: @form-field-label-asterisk__font-style,
    @_line-height: @form-field-label-asterisk__line-height,
    @_margin: @form-field-label-asterisk__margin
) {
    &.required > .label:after {
        content: '*';
        .mixin-typography(
            @_font-size: @_font-size,
            @_color: @_color,
            @_font-family: @_font-family,
            @_font-weight: @_font-weight,
            @_line-height: @_line-height,
            @_font-style: @_font-style
        );
        .css(margin, @_margin);
    }
}

._form-field-note(
    @_note-font-size,
    @_note-color,
    @_note-font-family,
    @_note-font-weight,
    @_note-line-height,
    @_note-font-style,
    @_note-margin,
    @_note-padding,

    @_note-icon-font-content,
    @_note-icon-font,
    @_note-icon-font-size,
    @_note-icon-font-line-height,
    @_note-icon-font-color,
    @_note-icon-font-color-hover,
    @_note-icon-font-color-active,
    @_note-icon-font-margin,
    @_note-icon-font-vertical-align,
    @_note-icon-font-position,
    @_note-icon-font-text-hide
) {
    .note {
        .mixin-typography(
            @_font-size: @_note-font-size,
            @_color: @_note-color,
            @_font-family: @_note-font-family,
            @_font-weight: @_note-font-weight,
            @_line-height: @_note-line-height,
            @_font-style: @_note-font-style
        );

        .css(margin, @_note-margin);
        .css(padding, @_note-padding);

        .mixin-icon-font(
            @_icon-font-content: @_note-icon-font-content,
            @_icon-font: @_note-icon-font,
            @_icon-font-size: @_note-icon-font-size,
            @_icon-font-line-height: @_note-icon-font-line-height,
            @_icon-font-color: @_note-icon-font-color,
            @_icon-font-color-hover: @_note-icon-font-color-hover,
            @_icon-font-color-active: @_note-icon-font-color-active,
            @_icon-font-margin: @_note-icon-font-margin,
            @_icon-font-vertical-align: @_note-icon-font-vertical-align,
            @_icon-font-position: @_note-icon-font-position,
            @_icon-font-text-hide: @_note-icon-font-text-hide
        );
    }
}

.mixin-form-field-type-revert(
    @_type: @form-field-type-revert,
    @_type-inline-margin: @form-field-type-inline__margin,
    @_type-inline-label-margin: @form-field-type-label-inline__margin,
    @_type-inline-label-padding: @form-field-type-label-inline__padding,
    @_type-inline-label-align: @form-field-type-label-inline__align,
    @_type-inline-label-width: @form-field-type-label-inline__width,
    @_type-inline-control-width: @form-field-type-control-inline__width,
    @_vertical-indent: @form-field__vertical-indent,
    @_type-block-margin: @form-field-type-block__margin,
    @_type-block-label-margin: @form-field-type-label-block__margin,
    @_type-block-label-padding: @form-field-type-label-block__padding,
    @_type-block-label-align: @form-field-type-label-block__align
) when (@_type = block) and not (@_type = false) {
    &:not(.choice) {
        > .label {
            box-sizing: content-box;
            float: none;
            width: auto;

            ._revert-type-block-label-align(
                @_type-block-label-align
            );

            ._revert-type-block-label-padding(
                @_type-block-label-padding
            );
        }
        > .control {
            width: auto;
            float: none;
        }
    }

    ._form-field-type-block(
        @_type-block-margin,
        @_type-block-label-margin,
        @_type-block-label-padding,
        @_type-block-label-align
    );

    &.choice:before,
    &.no-label:before {
        display: none;
    }
}

.mixin-form-field-type-revert(
    @_type: @form-field-type-revert,
    @_type-inline-margin: @form-field-type-inline__margin,
    @_type-inline-label-margin: @form-field-type-label-inline__margin,
    @_type-inline-label-padding: @form-field-type-label-inline__padding,
    @_type-inline-label-align: @form-field-type-label-inline__align,
    @_type-inline-label-width: @form-field-type-label-inline__width,
    @_type-inline-control-width: @form-field-type-control-inline__width,
    @_vertical-indent: @form-field__vertical-indent,
    @_type-block-margin: @form-field-type-block__margin,
    @_type-block-label-margin: @form-field-type-label-block__margin,
    @_type-block-label-padding: @form-field-type-label-block__padding,
    @_type-block-label-align: @form-field-type-label-block__align
) when (@_type = inline) and not (@_type = false) {
    > .label {
        ._revert-type-inline-label-margin(
            @_type-inline-label-margin
        );
    }
    ._form-field-type-inline(
        @_type-inline-margin,
        @_type-inline-label-margin,
        @_type-inline-label-padding,
        @_type-inline-label-width,
        @_type-inline-control-width,
        @_type-inline-label-align,
        @_vertical-indent
    );
}

.mixin-form-field-column(
    @_column: @form-field-column,
    @_column-padding: @form-field-column__padding,
    @_column-number: @form-field-column__number
) when (@_column = true) {

    .css(padding, @_column-padding);
    box-sizing: border-box;
    display: inline-block;

    .mixin-form-field-column-number(@_column-number);
    vertical-align: top;

    & + .fieldset {
        clear: both;
    }
}

.mixin-form-field-column-number(@_column-number: @form-field-column__number) {
    .css(width, 100% / @_column-number);
}

._revert-type-block-label-padding(
    @_type-block-label-padding
) when (@_type-block-label-padding = false) {
    padding: 0;
}

._revert-type-block-label-align(
    @_type-block-label-align
) when (@_type-block-label-align = false) {
    text-align: left;
}

._revert-type-inline-label-margin(
    @_type-inline-label-margin
) when (@_type-inline-label-margin = false) {
    margin: 0;
}

.mixin-form-hasrequired(
    @_position: @form-hasrequired__position,
    @_color: @form-hasrequired__color,
    @_font-size: @form-hasrequired__font-size,
    @_font-family: @form-hasrequired__font-family,
    @_font-weight: @form-hasrequired__font-weight,
    @_font-style: @form-hasrequired__font-style,
    @_line-height: @form-hasrequired__line-height,
    @_border: @form-hasrequired__border,
    @_margin: @form-hasrequired__margin,
    @_padding: @form-hasrequired__padding
) {
    ._form-hasrequired-position(
        @_position,
        @_border,
        @_margin,
        @_padding,
        @_font-size,
        @_color,
        @_font-family,
        @_font-weight,
        @_line-height,
        @_font-style
    );
}

._form-hasrequired-position(
    @_position,
    @_border,
    @_margin,
    @_padding,
    @_font-size,
    @_color,
    @_font-family,
    @_font-weight,
    @_line-height,
    @_font-style
) when (@_position = top) {
    &:before {
        ._form-hasrequired-position-any(
            @_border,
            @_margin,
            @_padding,
            @_font-size,
            @_color,
            @_font-family,
            @_font-weight,
            @_line-height,
            @_font-style
        );
    }
}

._form-hasrequired-position(
    @_position,
    @_border,
    @_margin,
    @_padding,
    @_font-size,
    @_color,
    @_font-family,
    @_font-weight,
    @_line-height,
    @_font-style
) when (@_position = bottom) {
    &:after {
        ._form-hasrequired-position-any(
            @_border,
            @_margin,
            @_padding,
            @_font-size,
            @_color,
            @_font-family,
            @_font-weight,
            @_line-height,
            @_font-style
        );
    }
}

._form-hasrequired-position-any(
    @_border,
    @_margin,
    @_padding,
    @_font-size,
    @_color,
    @_font-family,
    @_font-weight,
    @_line-height,
    @_font-style
) {
    content: attr(data-hasrequired);
    display: block;
    .mixin-typography(
        @_font-size: @_font-size,
        @_color: @_color,
        @_font-family: @_font-family,
        @_font-weight: @_font-weight,
        @_line-height: @_line-height,
        @_font-style: @_font-style
    );
    .css(border, @_border);
    .css(margin, @_margin);
    .css(padding, @_padding);
    letter-spacing: normal;
    word-spacing: normal;
}
